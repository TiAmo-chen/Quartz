---
title: "C++构造函数与析构函数笔记"
description: "C++类设计中构造函数、析构函数、内联函数以及继承机制的详细笔记。"
permalink: "/cpp-constructor-destructor"
tags: [C++, 构造函数, 析构函数, 内联函数, 继承, 指针管理]
aliases: [C++, 构造函数, 析构函数, 内联函数, 继承, 指针管理]
created: "2024-12-19"
modified: "2024-12-19"
published: "2024-12-19"
publish: false
draft: false
enableToc: true
lang: "zh-CN"
---

### 构造函数，析构函数
如果类中含有指针，那么就需要自己书写拷贝构造函数，因为如果是指针指向同一个位置的拷贝不算真正的拷贝构造
```cpp
class String
{
public:
    String(const char* cstr = 0);			//构造函数
    String(const String& str);				//拷贝构造函数
    String& operator= (const String& str);  //拷贝赋值函数
    ~String();								//析构函数
    char* get_c_str() const{return m_data;} //成员函数
private:
    char* m_data;
}
```


### 内联函数

 在类定义中的定义的函数都是内联函数，即使没有使用 **inline** 说明符。  <br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/2591540/1661911378679-8cfac5ef-49aa-4608-a7bc-7bc54460562d.png#clientId=u883f5387-5168-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=191&id=u7ce3cf2d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=191&originWidth=800&originalType=binary&ratio=1&rotation=0&showTitle=false&size=32825&status=done&style=none&taskId=ub927ebb6-511d-4325-b0da-d19b0db2de1&title=&width=800)


**继承的总结：**<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/2591540/1661929680486-632df6bb-cb6a-4c03-b591-45ad59379ed5.png#clientId=ua7497d56-1530-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=207&id=u48896264&margin=%5Bobject%20Object%5D&name=image.png&originHeight=207&originWidth=807&originalType=binary&ratio=1&rotation=0&showTitle=false&size=23179&status=done&style=none&taskId=u762bf7ef-8838-49ce-87ed-1e1a2d17fd3&title=&width=807)[c++：继承详解](https://blog.csdn.net/qq_62718027/article/details/125922249)

1. 基类 private 成员无论以什么方式继承到派生类中都是不可见的。这里的不可见是指基类的私有成员还是被继承到了派生类对象中，但是语法上限制派生类对象不管在类里面还是类外面都不能去访问它。
2. 基类 private 成员在派生类中不能被访问，如果基类成员不想在派生类外直接被访问，但需要在派生类中访问，就定义为 protected。可以看出保护成员限定符是因继承才出现的。
3. 基类的私有成员在子类都是不可见；基类的其他成员在子类的访问方式就是访问限定符和继承方式中权限更小的那个（权限排序：public>protected>private）。
4. 使用关键字 class 时默认的继承方式是 private，使用 struct 时默认的继承方式是 public，但最好显式地写出继承方式。


自己定义的命名空间，<br />有参数的main


为什么要有private继承方式 ，继承了也不能访问，private适用于什么使用场景下
